<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{fragment/member/member_layout}">
   
<!-- 연결해야 할 외부 CSS파일 -->   
<th:block layout:fragment="content_css">
	<!--<link rel="stylesheet" href="/">-->
	<link rel="stylesheet" href="/css/content/member/info_manage.css">
</th:block>

<!-- 본문 내용 -->   
<th:block layout:fragment="member_content">

<div class="row mb-1 mt-2">
	<div class="col title">
		여행 예약 조회 
	</div>
</div>
	

<div class="row mb-4">
    <div class="col content-box">
        <a th:href="@{/myPage/checkMyReservation}">
            <ul class="my-page-step">
                <li th:each="buyStatus : ${buyStatusInOneMonthList}">
                    <em th:text="${buyStatus.buyStatusCount}" class="num"></em>
                    <span  th:text="${buyStatus.buyStatusName}"></span>
                </li>
            </ul>
        </a>
    </div>
</div>

<div class="row">
	<div class="col">
		<table class="table table-hover">
			<colgroup>
				<col width="10%">
				<col width="10%">
				<col width="*">
				<col width="5%">
				<col width="15%">
				<col width="15%">
				<col width="10%">
				<col width="10%">
			</colgroup>
			<thead class="text-center">
				<tr>
					<td>결제일자</td>
					<td>여행국가</td>
					<td>상품명</td>
					<td>인원</td>
					<td>출발일자</td>
					<td>도착일자</td>
					<td>결제금액</td>
					<td>상태</td>
				</tr>
			</thead>
			
			<th:block th:if="${#lists.size(buyList) == 0}">
				<tbody>
					<tr class="text-center">
						<td colspan="8">
						<br>
						<br>
						<br>
							<div style="font-size: 4rem;">
								<i class="bi bi-exclamation-circle"></i>
							</div>
							<div>
								조회된 데이터가 없습니다.
							</div>
						<br>	
						<br>	
						<br>	
						</td>
					</tr>
				</tbody>
			</th:block>
			<th:block th:if="${#lists.size(buyList) != 0}">
				<tr th:each="buy : ${buyList}">
		            <td th:text="${buy.buyDate}"></td>
			        <td th:text="${buy.buyDetailList[0].itemVO.tourAreaVO.areaKorName}"></td>
			        <td>
			            <span th:text="${buy.buyDetailList[0].itemVO.imgList[0].itemImgAttachedName}"></span>
			            <span th:text="${buy.buyDetailList[0].itemVO.itemTitle}"></span>
			        </td>
			        <td th:text="${buy.buyDetailList[0].reservedPeopleNum}"></td>
			        <td th:text="${buy.buyDetailList[0].departDate}"></td>
			        <td th:text="${buy.buyDetailList[0].arriveDate}"></td>
			        <td th:text="${buy.buyDetailList[0].buyDPrice}"></td>
			        <td th:text="${buy.buyStateVO.buyStatusName}"></td>
				</tr>
			</th:block>
			
			 
		</table>
	
	</div>
</div>










<div class="row">
	<div class="col">
		
	</div>
</div>






</th:block>

<!-- 연결해야 할 외부 js파일 -->   
<th:block layout:fragment="content_js">
	<!--<script type="text/javascript" src="/"></script>-->
</th:block>



</html>