<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{fragment/member/member_layout}">
   
<!-- 연결해야 할 외부 CSS파일 -->   
<th:block layout:fragment="content_css">
	<link rel="stylesheet" href="/css/content/member/myPage/check_diy_reservation.css">
</th:block>

<!-- 본문 내용 -->   
<th:block layout:fragment="member_content">

<!-- diy -table -->
<div class="row mb-1 mt-2">
	<div class="col title">
		DIY 패키지 예약 및 취소 조회 
	</div>
</div>

<div class="row">
	<div class="col">
		<table class="table">
			<colgroup>
				<col width="15%">
				<col width="15%">
				<col width="15%">
				<col width="10%">
				<col width="15%">
				<col width="15%">
				<col width="15%">
			</colgroup>
			<thead>
				<tr>
					<td>결제일자</td>
					<td>예약코드</td>
					<td>항공사</td>
					<td>여행국가</td>
					<td>여행기간</td>
					<td>결제금액</td>
					<td>구매상태</td>
				</tr>
			</thead>
			<tbody>
				<th:block th:if="${#lists.size(diyTourList) == 0}">
						<tr class="text-center">
							<td colspan="8">
							<br>
							<br>
							<br>
								<div style="font-size: 4rem; color: #bbb;">
									<i class="bi bi-exclamation-circle"></i>
								</div>
								<div>
									기간내 예약내역이 없습니다.
								</div>
							<br>	
							<br>	
							<br>	
							</td>
						</tr>
				</th:block>
				<th:block th:if="${#lists.size(diyTourList) != 0}">
					<th:block th:each="diy : ${diyTourList}">
						<tr class="table-tr">
				            <td class="text-center">
					            <div style="color: #131518; font-weight:bolder;">[[${diy.diyTourBuyDate}]]</div>
					            <div>
					            	<a th:href="@{/myPage/diyDetail(hbtDiyCode=${diy.hbtDiyCode})}"><span style="font-size: 0.9rem; text-decoration:underline;">상세보기</span></a>
					            </div>
				            </td>
				            <td  style="color: #ffd000;">[[${diy.hbtDiyCode}]]</td>
					        <td class="row">
					        	<div class="col">
									<img th:src="${'/img/item/airlineIcon/' + diy.airlineVO.hbtAirlineIcon}" 
					        		style="width: 40px; height: 40px;">
					        		<span>[[${diy.airlineVO.hbtAirlineName}]]</span>
					        	</div>
					        </td>
					        <td th:text="${diy.tourAreaVO.areaKorName}" class="text-center"></td>
					        <td class="date-td">
					        	[[${diy.departDate}]] <br>~<br>[[${diy.arriveDate}]]<br>
					        	( 총 [[${diy.traverPeriod}]] 일 )
					        </td>
					        <td style="color: #f27370;">
					        	 [[${#numbers.formatCurrency(diy.totalPrice).substring(1)}]] 원
				        	</td>
					        <td>
						        <div>
						        	<span id="statusCode" style="font-weight: bolder;"><!-- th:value="${diy.buyStatusCode}" -->[[${diy.buyStateVO.buyStatusName}]]</span>
						        </div>
						        <div id="cancelBtn">
						        	<button class="btn btn-outline-secondary btn-sm mt-2 cancelBtn">
						        	<!-- th:if="${diy.buyStatusCode == 1}" -->
						        	<!-- th:onclick="cancel_reservation([[${diy.hbtDiyCode}]])" -->예약취소</button>
						        </div>
						        <div id="reviewBtn">
						        	<!-- <a th:href="@{/myPage/checkMyReview(memCode=${buy.memberVO.memCode})}"> -->
						        		<button class="btn btn-outline-secondary btn-sm mt-2 reviewBtn">
						        		<!-- th:if="${diy.buyStatusCode == 2}" -->리뷰작성</button>
						        	<!-- </a> -->
						        </div>
					        </td>
						</tr>
					</th:block>
				</th:block>
			</tbody>
		
		</table>
		
		
	</div>
</div>
















</th:block>

<!-- 연결해야 할 외부 js파일 -->   
<th:block layout:fragment="content_js">
	<!--<script type="text/javascript" src="/"></script>-->
</th:block>



</html>