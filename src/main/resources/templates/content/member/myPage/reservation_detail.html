<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{fragment/member/member_layout}">
   
<!-- ì—°ê²°í•´ì•¼ í•  ì™¸ë¶€ CSSíŒŒì¼ -->   
<th:block layout:fragment="content_css">
	<link rel="stylesheet" href="/css/content/member/myPage/reservation_detail.css">
</th:block>

<!-- ë³¸ë¬¸ ë‚´ìš© -->   
<th:block layout:fragment="member_content">

<div class="container">

	<div class="row mb-3 mt-2">
		<div class="col title">
			ìƒì„¸ ì •ë³´
		</div>
	</div>
	
	<!-- ìƒë‹¨ ë°” -->
	<div class="row upper-box mb-3">
		<div class="col-3 text-end">ì˜ˆì•½ì¼ì  : <span class="bold">[[${buyDetail.buyDate}]]</span></div>
		<div class="col-9">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ì˜ˆì•½ë²ˆí˜¸ : <span class="bold" style="text-decoration:underline; color: #ffd000;">[[${buyDetail.buyCode}]]</span></div>
	</div>
	
	<!-- ì˜ˆì•½ ìƒí’ˆ ì •ë³´ -->
	<div class="row mb-3">
		<div class="col title-md">
			âœˆï¸&nbsp;&nbsp;ì˜ˆì•½ ìƒí’ˆ
		</div>
	</div>
	
	<div class="row">
		<div class="col mb-3">
			<table class="table table-detail">
				<colgroup>
					<col width="*">
					<col width="15%">
					<col width="5%">
					<col width="15%">
					<col width="15%">
					<col width="15%">
				</colgroup>
				<thead class="text-center">
					<tr>
						<td>ìƒí’ˆëª…</td>
						<td>íŒë§¤ê¸ˆì•¡</td>
						<td>ì¸ì›</td>
						<td>ì—¬í–‰ì¼ì</td>
						<td>ê²°ì œê¸ˆì•¡</td>
						<td>ì§„í–‰í˜„í™©</td>
					</tr>
				</thead>
								
				<tbody>
					<tr>
				        <td>
				        	<div class="area">
								<a class="thum" th:href="@{/item/tourItemListDetail(itemCode=${buyDetail.buyDetailVO.itemVO.itemCode})}">
									<img th:src="${'/img/item/itemImg/' + buyDetail.buyDetailVO.itemVO.imgList[0].itemImgAttachedName}" 
				        			style="width: 85px; height: 85px;">
								</a>
								<div class="textus">
									<a class="" th:href="@{/item/tourItemListDetail(itemCode=${buyDetail.buyDetailVO.itemVO.itemCode})}">
										<span class="tit">[[${buyDetail.buyDetailVO.itemVO.tourAreaVO.areaKorName}]]</span><br>
							            <span  class="txt" th:text="${buyDetail.buyDetailVO.itemVO.itemTitle}" style="word-spacing: -1px;"></span><br>
									</a>
								</div>
				        	</div>
				        </td>
				        <td>[[${#numbers.formatCurrency(buyDetail.buyDetailVO.itemVO.itemPrice).substring(1)}]] ì›</td>
				        <td>[[${buyDetail.buyDetailVO.reservedPeopleNum}]] ëª…</td>
				        <td class="date">
				        	[[${buyDetail.buyDetailVO.departDate}]] ~ <br>
				        	[[${buyDetail.buyDetailVO.arriveDate}]]
				        </td>
				        <td style="color: #f27370;">
				        	 [[${#numbers.formatCurrency(buyDetail.buyTotalPrice).substring(1)}]] ì›
			        	</td>
				        <td>
					        <div>
					        	<span id="statusCode" style="font-weight: bolder;">[[${buyDetail.buyStateVO.buyStatusName}]]</span>
					        </div>
					        <div id="reviewBtn">
					        	<!-- <a th:href="@{/myPage/checkMyReview(buyCode=${buyDetail.buyCode})}">
-->					        	<button class="btn btn-outline-secondary btn-sm mt-2 reviewBtn"
					        	th:if="${buyDetail.buyStateVO.buyStatusCode == 1}"
					        	th:onclick="detail_cancel([[${buyDetail.buyCode}]])">ì˜ˆì•½ì·¨ì†Œ</button>
					        	<!-- </a> -->
					        </div>
					        <div id="cancelBtn"> 
					        	<a th:href="@{/myPage/getMyReview(buyCode=${buyDetail.buyCode})}">
					        		<button class="btn btn-outline-secondary btn-sm mt-2 reviewBtn" 
					        		th:if="${buyDetail.buyStateVO.buyStatusCode == 2}">ë¦¬ë·°ì‘ì„±</button>
					        	</a>
					        </div>
				        </td>
					</tr>
				</tbody>
				 
			</table>
		
		</div>
	</div>
	
	<!-- ì˜ˆì•½ì ì •ë³´ -->
	<div class="row mb-3">
		<div class="col title-md">
			ğŸ‘¤&nbsp;&nbsp;ì˜ˆì•½ì ì •ë³´
		</div>
	</div>
	
	<div class="row">
		<div class="col mb-3">
			<table class="table personal-info">
				<colgroup>
					<col width="20%">
					<col width="*">
				</colgroup>
				<tbody>
					<tr>
						<th>ì´ë¦„</th>
						<td>[[${buyDetail.memberVO.memName}]]</td>
					</tr>
					<tr>
					    <th>ì—°ë½ì²˜</th>
					    <td>
					        <span th:text="${#strings.length(buyDetail.memberVO.memberDetailVO.memDTell) == 11 ? 
					                        #strings.substring(buyDetail.memberVO.memberDetailVO.memDTell, 0, 3) + '-' +
					                        #strings.substring(buyDetail.memberVO.memberDetailVO.memDTell, 3, 7) + '-' +
					                        #strings.substring(buyDetail.memberVO.memberDetailVO.memDTell, 7) :
					                        #strings.substring(buyDetail.memberVO.memberDetailVO.memDTell, 0, 3) + '-' +
					                        #strings.substring(buyDetail.memberVO.memberDetailVO.memDTell, 3, 6) + '-' +
					                        #strings.substring(buyDetail.memberVO.memberDetailVO.memDTell, 6) }"></span>
					    </td>
					</tr>
					<tr>
						<th>ì£¼ì†Œ</th>
						<td>
							[[${buyDetail.memberVO.memberDetailVO.memDAddr}]]
							[[${buyDetail.memberVO.memberDetailVO.memDAddr2}]]
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
	
	<!-- ê²°ì œ ì •ë³´  -->
	<div class="row mb-3">
		<div class="col title-md">
			ğŸ’³&nbsp;&nbsp;ê²°ì œ ì •ë³´
		</div>
	</div>
	
	<div class="price-box mb-3">
		<div class="row">
			<div class="col-7 price-title">
				[[${buyDetail.buyDetailVO.itemVO.itemTitle}]]
			</div>
			<div class="col-3 text-end price-cal">
				[[${buyDetail.buyDetailVO.reservedPeopleNum}]] x [[${#numbers.formatCurrency(buyDetail.buyDetailVO.itemVO.itemPrice).substring(1)}]] = 
			</div>
			<div class="col-2 cal-price">
				[[${#numbers.formatCurrency(buyDetail.buyTotalPrice).substring(1)}]]<span>ì›</span>
			</div>
		</div>
		<hr class="price-box-line">
		<div class="row">
			<div class="col text-end">
				<span class="total-price-tit">ì´ ì—¬í–‰ ê¸ˆì•¡</span>
				<span class="total-price">[[${#numbers.formatCurrency(buyDetail.buyTotalPrice).substring(1)}]] ì›</span>
			</div>
		</div>
	</div>
	
	<div class="mt-5 mb-4">
		<hr class="line">
	</div>
	<!-- ìœ ì˜ ì‚¬í•­ -->
	<div class="info">
		<ul>
			<li>
				ì˜ˆì•½ì·¨ì†ŒëŠ” [ê²°ì œì™„ë£Œ] ìƒíƒœê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤. [ì˜ˆì•½ì™„ë£Œ]ìƒíƒœëŠ” ê³ ê°ì„¼í„°ë¡œ ë¬¸ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
			</li>
		</ul>
	</div>
	
	
	<div class="offset-5 col-2 d-grid mb-5">
			<!-- <input class="btn btn-warning text-center btn-lg" type="button" value="ëª©ë¡" th:onclick="/myPage/checkMyReservation"> -->
		 <a class="btn btn-warning text-center btn-lg" th:href="@{/myPage/checkMyReservation}">
    	    ëª©ë¡
   		</a>
	</div>
	
</div>	
	
	
	
	
	
	
</th:block>

<!-- ì—°ê²°í•´ì•¼ í•  ì™¸ë¶€ jsíŒŒì¼ -->   
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/member/myPage/reservation_detail.js"></script>
</th:block>



</html>